var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.withStickyHeader=withStickyHeader;exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireDefault(require("react-native-reanimated"));var _useStickyHeaderProps2=require("./useStickyHeaderProps");var _excluded=["containerStyle","contentContainerStyle","itemLayoutAnimation","overScrollMode","renderHeader","renderTabs","scrollEventThrottle","style"];var _this=this,_jsxFileName="/Users/vagrant/git/src/primitiveComponents/withStickyHeader.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var NOOP=function NOOP(){};var createCellRenderer=function createCellRenderer(itemLayoutAnimation){var cellRenderer=function cellRenderer(props){return React.createElement(_reactNativeReanimated.default.View,{layout:itemLayoutAnimation,onLayout:props.onLayout,__self:_this,__source:{fileName:_jsxFileName,lineNumber:16,columnNumber:7}},props.children);};return cellRenderer;};function withStickyHeader(component){var _this2=this;var AnimatedComponent=_reactNativeReanimated.default.createAnimatedComponent(component);return React.forwardRef(function(props,ref){var containerStyle=props.containerStyle,contentContainerStyle=props.contentContainerStyle,itemLayoutAnimation=props.itemLayoutAnimation,_props$overScrollMode=props.overScrollMode,overScrollMode=_props$overScrollMode===void 0?'never':_props$overScrollMode,renderHeader=props.renderHeader,renderTabs=props.renderTabs,_props$scrollEventThr=props.scrollEventThrottle,scrollEventThrottle=_props$scrollEventThr===void 0?16:_props$scrollEventThr,style=props.style,rest=(0,_objectWithoutProperties2.default)(props,_excluded);var _useStickyHeaderProps=(0,_useStickyHeaderProps2.useStickyHeaderProps)(props),contentContainerPaddingTop=_useStickyHeaderProps.contentContainerPaddingTop,contentContainerPaddingBottom=_useStickyHeaderProps.contentContainerPaddingBottom,headerAnimatedStyle=_useStickyHeaderProps.headerAnimatedStyle,headerHeight=_useStickyHeaderProps.headerHeight,listPaddingTop=_useStickyHeaderProps.listPaddingTop,onHeaderLayoutInternal=_useStickyHeaderProps.onHeaderLayoutInternal,onTabsLayoutInternal=_useStickyHeaderProps.onTabsLayoutInternal,scrollHandler=_useStickyHeaderProps.scrollHandler,tabsHeight=_useStickyHeaderProps.tabsHeight;var cellRenderer=React.useMemo(function(){return createCellRenderer(itemLayoutAnimation);},[]);return React.createElement(_reactNative.View,{style:[styles.container,containerStyle],__self:_this2,__source:{fileName:_jsxFileName,lineNumber:62,columnNumber:7}},React.createElement(_reactNativeReanimated.default.View,{pointerEvents:"box-none",style:[styles.header,headerAnimatedStyle],__self:_this2,__source:{fileName:_jsxFileName,lineNumber:63,columnNumber:9}},renderHeader?React.createElement(_reactNative.View,{pointerEvents:"box-none",onLayout:onHeaderLayoutInternal,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:65,columnNumber:13}},renderHeader()):null,renderTabs?React.createElement(_reactNative.View,{pointerEvents:"box-none",onLayout:onTabsLayoutInternal,__self:_this2,__source:{fileName:_jsxFileName,lineNumber:70,columnNumber:13}},renderTabs()):null),React.createElement(AnimatedComponent,(0,_extends2.default)({ref:ref},rest,{CellRendererComponent:cellRenderer,contentContainerStyle:[contentContainerStyle,{paddingTop:headerHeight+contentContainerPaddingTop},{paddingBottom:tabsHeight+contentContainerPaddingBottom}],onScroll:scrollHandler,onScrollBeginDrag:NOOP,onScrollEndDrag:NOOP,onMomentumScrollBegin:NOOP,onMomentumScrollEnd:NOOP,overScrollMode:overScrollMode,progressViewOffset:headerHeight,scrollEventThrottle:scrollEventThrottle,style:[style,{paddingTop:tabsHeight+listPaddingTop}],__self:_this2,__source:{fileName:_jsxFileName,lineNumber:75,columnNumber:9}})));});}var styles=_reactNative.StyleSheet.create({container:{alignSelf:'stretch',flex:1,overflow:'hidden'},header:{position:'absolute',left:0,right:0,zIndex:999}});exports.styles=styles;
//# sourceMappingURL=withStickyHeader.js.map