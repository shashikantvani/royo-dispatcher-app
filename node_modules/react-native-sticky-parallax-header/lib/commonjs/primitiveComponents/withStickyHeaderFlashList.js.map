{"version":3,"sources":["withStickyHeaderFlashList.tsx"],"names":["NOOP","withStickyHeaderFlashList","flashListComponent","AnimatedFlashList","Animated","createAnimatedComponent","React","forwardRef","props","ref","containerStyle","contentContainerStyle","overScrollMode","onScroll","onScrollEndDrag","onMomentumScrollEnd","onTabsLayout","renderHeader","renderTabs","scrollEventThrottle","rest","sections","contentContainerPaddingTop","contentContainerPaddingBottom","headerAnimatedStyle","headerHeight","onHeaderLayoutInternal","onTabsLayoutInternal","scrollHandler","tabsHeight","flattenContentContainerStyle","useMemo","StyleSheet","flatten","paddingBottom","paddingTop","styles","container","header","create","alignSelf","flex","overflow","position","left","right","zIndex"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type { FlashListProps } from '@shopify/flash-list';\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport Animated from 'react-native-reanimated';\n\nimport type { StickyHeaderFlashListProps } from './StickyHeaderProps';\nimport { useStickyHeaderProps } from './useStickyHeaderProps';\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst NOOP = () => {};\n\nexport function withStickyHeaderFlashList<T extends React.ComponentClass<FlashListProps<any>>>(\n  flashListComponent: T\n) {\n  const AnimatedFlashList = Animated.createAnimatedComponent(flashListComponent) as any;\n\n  return React.forwardRef<\n    T,\n    StickyHeaderFlashListProps<unknown> & Animated.AnimateProps<React.PropsWithRef<T>>\n  >((props, ref) => {\n    const {\n      containerStyle,\n      contentContainerStyle,\n      overScrollMode = 'never',\n      onScroll,\n      onScrollEndDrag,\n      onMomentumScrollEnd,\n      onTabsLayout,\n      renderHeader,\n      renderTabs,\n      scrollEventThrottle = 16,\n      ...rest\n    } = props;\n    const {\n      contentContainerPaddingTop,\n      contentContainerPaddingBottom,\n      headerAnimatedStyle,\n      headerHeight,\n      onHeaderLayoutInternal,\n      onTabsLayoutInternal,\n      scrollHandler,\n      tabsHeight,\n    } = useStickyHeaderProps({\n      contentContainerStyle,\n      sections: [], // is not needed with FlashList\n      onMomentumScrollEnd,\n      onScroll,\n      onScrollEndDrag,\n      onTabsLayout,\n    });\n    const flattenContentContainerStyle = React.useMemo(() => {\n      return StyleSheet.flatten([\n        contentContainerStyle,\n        {\n          paddingBottom: tabsHeight + contentContainerPaddingBottom,\n          paddingTop: headerHeight + contentContainerPaddingTop,\n        },\n      ]);\n    }, [\n      contentContainerPaddingTop,\n      contentContainerPaddingBottom,\n      contentContainerStyle,\n      headerHeight,\n      tabsHeight,\n    ]);\n\n    return (\n      <View style={[styles.container, containerStyle]}>\n        <Animated.View pointerEvents=\"box-none\" style={[styles.header, headerAnimatedStyle]}>\n          {renderHeader ? (\n            <View pointerEvents=\"box-none\" onLayout={onHeaderLayoutInternal}>\n              {renderHeader()}\n            </View>\n          ) : null}\n          {renderTabs ? (\n            <View pointerEvents=\"box-none\" onLayout={onTabsLayoutInternal}>\n              {renderTabs()}\n            </View>\n          ) : null}\n        </Animated.View>\n        <View style={[styles.container, { paddingTop: tabsHeight }]}>\n          <AnimatedFlashList\n            ref={ref}\n            {...rest}\n            contentContainerStyle={flattenContentContainerStyle}\n            onScroll={scrollHandler}\n            onScrollBeginDrag={NOOP}\n            onScrollEndDrag={NOOP}\n            onMomentumScrollBegin={NOOP}\n            onMomentumScrollEnd={NOOP}\n            overScrollMode={overScrollMode}\n            progressViewOffset={headerHeight}\n            scrollEventThrottle={scrollEventThrottle}\n          />\n        </View>\n      </View>\n    );\n  }) as unknown as React.FC<\n    StickyHeaderFlashListProps<unknown> & Animated.AnimateProps<React.ComponentPropsWithRef<T>>\n  >;\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignSelf: 'stretch',\n    flex: 1,\n    overflow: 'hidden',\n  },\n  header: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    zIndex: 999,\n  },\n});\n"]}