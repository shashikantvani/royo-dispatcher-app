var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.useStickyHeaderProps=useStickyHeaderProps;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=require("react");var _reactNative=require("react-native");var _reactNativeReanimated=require("react-native-reanimated");function useStickyHeaderProps(props){var contentContainerStyle=props.contentContainerStyle,onHeaderLayout=props.onHeaderLayout,onMomentumScrollBegin=props.onMomentumScrollBegin,onMomentumScrollEnd=props.onMomentumScrollEnd,_onScroll=props.onScroll,onScrollBeginDrag=props.onScrollBeginDrag,onScrollEndDrag=props.onScrollEndDrag,onTabsLayout=props.onTabsLayout,_props$stickyTabs=props.stickyTabs,stickyTabs=_props$stickyTabs===void 0?true:_props$stickyTabs,style=props.style;var _useState=(0,_react.useState)(0),_useState2=(0,_slicedToArray2.default)(_useState,2),headerHeight=_useState2[0],setHeaderHeight=_useState2[1];var _useState3=(0,_react.useState)(0),_useState4=(0,_slicedToArray2.default)(_useState3,2),tabsHeight=_useState4[0],setTabsHeight=_useState4[1];var scrollValue=(0,_reactNativeReanimated.useSharedValue)(0);function onHeaderLayoutInternal(e){setHeaderHeight(e.nativeEvent.layout.height);onHeaderLayout==null?void 0:onHeaderLayout(e);}function onTabsLayoutInternal(e){setTabsHeight(e.nativeEvent.layout.height);onTabsLayout==null?void 0:onTabsLayout(e);}var scrollHandler=(0,_reactNativeReanimated.useAnimatedScrollHandler)({onBeginDrag:function onBeginDrag(e){onScrollBeginDrag==null?void 0:onScrollBeginDrag(e);},onEndDrag:function onEndDrag(e){onScrollEndDrag==null?void 0:onScrollEndDrag(e);},onMomentumBegin:function onMomentumBegin(e){onMomentumScrollBegin==null?void 0:onMomentumScrollBegin(e);},onMomentumEnd:function onMomentumEnd(e){onMomentumScrollEnd==null?void 0:onMomentumScrollEnd(e);},onScroll:function onScroll(e){scrollValue.value=e.contentOffset.y;_onScroll==null?void 0:_onScroll(e);}});var contentContainerPaddingTop=(0,_react.useMemo)(function(){var _StyleSheet$flatten;var paddingTop=(_StyleSheet$flatten=_reactNative.StyleSheet.flatten(contentContainerStyle))==null?void 0:_StyleSheet$flatten.paddingTop;if(typeof paddingTop==='number'){return paddingTop;}return 0;},[contentContainerStyle]);var contentContainerPaddingBottom=(0,_react.useMemo)(function(){var _StyleSheet$flatten2;var paddingBottom=(_StyleSheet$flatten2=_reactNative.StyleSheet.flatten(contentContainerStyle))==null?void 0:_StyleSheet$flatten2.paddingBottom;if(typeof paddingBottom==='number'){return paddingBottom;}return 0;},[contentContainerStyle]);var listPaddingTop=(0,_react.useMemo)(function(){var _StyleSheet$flatten3;var paddingTop=(_StyleSheet$flatten3=_reactNative.StyleSheet.flatten(style))==null?void 0:_StyleSheet$flatten3.paddingTop;if(typeof paddingTop==='number'){return paddingTop;}return 0;},[style]);var headerAnimatedStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){return{transform:[{translateY:(0,_reactNativeReanimated.interpolate)(scrollValue.value,[0,headerHeight],[0,-headerHeight],stickyTabs?_reactNativeReanimated.Extrapolate.CLAMP:_reactNativeReanimated.Extrapolate.EXTEND)}]};},[scrollValue,headerHeight,stickyTabs]);return{contentContainerPaddingTop:contentContainerPaddingTop,contentContainerPaddingBottom:contentContainerPaddingBottom,headerAnimatedStyle:headerAnimatedStyle,headerHeight:headerHeight,listPaddingTop:listPaddingTop,onHeaderLayoutInternal:onHeaderLayoutInternal,onTabsLayoutInternal:onTabsLayoutInternal,scrollHandler:scrollHandler,tabsHeight:tabsHeight};}
//# sourceMappingURL=useStickyHeaderProps.js.map