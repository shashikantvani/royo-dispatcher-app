{"version":3,"sources":["TabbedHeaderPager.tsx"],"names":["TabbedHeaderPager","React","forwardRef","props","ref","backgroundColor","children","contentContainerStyle","disableScrollToPosition","decelerationRate","enableSafeAreaTopInset","initialPage","logo","logoContainerStyle","logoResizeMode","logoStyle","nestedScrollEnabled","onChangeTab","overScrollMode","pagerProps","rememberTabScrollPosition","renderHeader","renderHeaderBar","scrollEventThrottle","rest","currentPage","innerScrollHeight","onHorizontalPagerScroll","onMomentumScrollEnd","onScroll","onScrollEndDrag","defaultRenderHeader","renderTabs","scrollHeight","scrollValue","scrollViewRef","setCurrentPage","useImperativeHandle","current","wrapperAnimatedStyle","handleChangeTab","useCallback","prevPage","newPage","handleScroll","e","commonStyles","container","stretch"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport type { NativeScrollEvent, ScrollView } from 'react-native';\nimport { View } from 'react-native';\nimport Animated, { useAnimatedStyle, useWorkletCallback } from 'react-native-reanimated';\nimport type { Edge } from 'react-native-safe-area-context';\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\nimport { commonStyles } from '../../constants';\nimport { StickyHeaderScrollView } from '../../primitiveComponents/StickyHeaderScrollView';\nimport { parseAnimatedColorProp } from '../common/utils/parseAnimatedColorProp';\n\nimport type { TabbedHeaderPagerProps } from './TabbedHeaderProps';\nimport { HeaderBar } from './components/HeaderBar';\nimport { Pager } from './components/Pager';\nimport { useTabbedHeaderPager } from './hooks/useTabbedHeader';\n\nexport const TabbedHeaderPager = React.forwardRef<ScrollView, TabbedHeaderPagerProps>(\n  (props, ref) => {\n    const {\n      backgroundColor,\n      children,\n      contentContainerStyle,\n      disableScrollToPosition,\n      decelerationRate = 'fast',\n      enableSafeAreaTopInset = true,\n      initialPage,\n      logo,\n      logoContainerStyle,\n      logoResizeMode,\n      logoStyle,\n      nestedScrollEnabled = true,\n      onChangeTab,\n      overScrollMode = 'never',\n      pagerProps,\n      rememberTabScrollPosition,\n      renderHeader,\n      renderHeaderBar,\n      scrollEventThrottle = 16,\n      ...rest\n    } = props;\n    const {\n      currentPage,\n      innerScrollHeight,\n      onHorizontalPagerScroll,\n      onMomentumScrollEnd,\n      onScroll,\n      onScrollEndDrag,\n      renderHeader: defaultRenderHeader,\n      renderTabs,\n      scrollHeight,\n      scrollValue,\n      scrollViewRef,\n      setCurrentPage,\n    } = useTabbedHeaderPager(props);\n\n    React.useImperativeHandle(ref, () => scrollViewRef.current as ScrollView);\n\n    const wrapperAnimatedStyle = useAnimatedStyle(() => {\n      return {\n        backgroundColor: parseAnimatedColorProp(backgroundColor),\n      };\n    }, [backgroundColor]);\n\n    const handleChangeTab = React.useCallback(\n      (prevPage: number, newPage: number) => {\n        setCurrentPage(newPage);\n        onChangeTab?.(prevPage, newPage);\n      },\n      [onChangeTab, setCurrentPage]\n    );\n\n    const handleScroll = useWorkletCallback(\n      (e: NativeScrollEvent) => {\n        onHorizontalPagerScroll(e);\n        pagerProps?.onScroll?.(e);\n      },\n      [onHorizontalPagerScroll, pagerProps?.onScroll]\n    );\n\n    return (\n      <Animated.View style={[commonStyles.container, wrapperAnimatedStyle]}>\n        {renderHeaderBar ? (\n          renderHeaderBar()\n        ) : logo ? (\n          <HeaderBar\n            backgroundColor={backgroundColor}\n            enableSafeAreaTopInset={enableSafeAreaTopInset}\n            logo={logo}\n            logoContainerStyle={logoContainerStyle}\n            logoResizeMode={logoResizeMode}\n            logoStyle={logoStyle}\n          />\n        ) : (\n          <SafeAreaView\n            edges={['left', 'right', ...(enableSafeAreaTopInset ? ['top' as Edge] : [])]}\n            style={commonStyles.stretch}\n          />\n        )}\n        <View style={commonStyles.container}>\n          <StickyHeaderScrollView\n            ref={scrollViewRef}\n            {...rest}\n            contentContainerStyle={contentContainerStyle}\n            decelerationRate={decelerationRate}\n            nestedScrollEnabled={nestedScrollEnabled}\n            onMomentumScrollEnd={onMomentumScrollEnd}\n            onScrollEndDrag={onScrollEndDrag}\n            onScroll={onScroll}\n            overScrollMode={overScrollMode}\n            renderHeader={renderHeader ?? defaultRenderHeader}\n            renderTabs={renderTabs}\n            scrollEventThrottle={scrollEventThrottle}>\n            <Pager\n              {...pagerProps}\n              disableScrollToPosition={disableScrollToPosition}\n              initialPage={initialPage}\n              minScrollHeight={innerScrollHeight}\n              onChangeTab={handleChangeTab}\n              onScroll={handleScroll}\n              page={currentPage}\n              rememberTabScrollPosition={rememberTabScrollPosition}\n              scrollHeight={scrollHeight}\n              scrollRef={scrollViewRef}\n              scrollValue={scrollValue}>\n              {children}\n            </Pager>\n          </StickyHeaderScrollView>\n        </View>\n      </Animated.View>\n    );\n  }\n);\n"]}