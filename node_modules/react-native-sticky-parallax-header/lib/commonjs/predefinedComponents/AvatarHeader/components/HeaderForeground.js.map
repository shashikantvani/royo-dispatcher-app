{"version":3,"sources":["HeaderForeground.tsx"],"names":["finishImgPosition","startImgPosition","Foreground","height","image","scrollValue","subtitle","subtitleStyle","subtitleTestID","title","titleStyle","titleTestID","responsiveWidth","windowHeight","windowWidth","width","isLandscape","constants","breakpoints","mediumPhoneShorterEdge","profilePicBorderRadius","startSize","endSize","startImgAnimation","finishImgAnimation","startAuthorFade","finishAuthorFade","startAboutFade","fininshAboutFade","imageOpacityAnimatedStyle","opacity","value","Extrapolate","CLAMP","imageAnimatedStyle","imageSize","borderRadius","authorAnimatedStyle","aboutAnimatedStyle","foregroundTitleRTLStyle","styles","foregroundTitlePaddingRight","foregroundTitlePaddingLeft","foregroundTitlePaddingEnd","landscapeStyle","commonStyles","row","rowReverse","foregroundRow","foreground","column","landscapeTitleContainer","userModalMessageContainer","message","foregroundTitle","infoContainer","infoText","StyleSheet","create","flexGrow","textAlign","paddingEnd","paddingLeft","paddingRight","marginBottom","color","colors","white","fontSize","lineHeight","alignSelf","flex","justifyContent","paddingHorizontal","alignItems","marginTop","paddingTop","paddingBottom"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport type { ImageSourcePropType, StyleProp, TextStyle, ViewStyle } from 'react-native';\nimport { StyleSheet, View, useWindowDimensions } from 'react-native';\nimport Animated, { Extrapolate, interpolate, useAnimatedStyle } from 'react-native-reanimated';\n\nimport { colors, commonStyles, constants } from '../../../constants';\nimport { useResponsiveSize } from '../../../hooks/useResponsiveSize';\nimport { useRTLStyles } from '../../common/hooks/useRTLStyles';\nimport { scrollPosition } from '../../common/utils/scrollPosition';\n\ninterface ForegroundProps {\n  height: number;\n  image?: ImageSourcePropType;\n  scrollValue: Animated.SharedValue<number>;\n  subtitle?: string;\n  subtitleStyle?: StyleProp<Animated.AnimateStyle<TextStyle>>;\n  subtitleTestID?: string;\n  title?: string;\n  titleStyle?: StyleProp<Animated.AnimateStyle<TextStyle>>;\n  titleTestID?: string;\n}\n\nconst finishImgPosition = 31;\nconst startImgPosition = 27;\n\nexport const Foreground: React.FC<ForegroundProps> = ({\n  height,\n  image,\n  scrollValue,\n  subtitle,\n  subtitleStyle,\n  subtitleTestID = 'AvatarHeaderForegroundSubtitleTestID',\n  title,\n  titleStyle,\n  titleTestID = 'AvatarHeaderForegroundTitleTestID',\n}) => {\n  const { responsiveWidth } = useResponsiveSize();\n  const { height: windowHeight, width: windowWidth } = useWindowDimensions();\n\n  const isLandscape =\n    windowWidth > windowHeight && windowHeight <= constants.breakpoints.mediumPhoneShorterEdge;\n\n  const profilePicBorderRadius = responsiveWidth(4.5);\n\n  const startSize = responsiveWidth(18);\n  const endSize = responsiveWidth(12);\n  const [startImgAnimation, finishImgAnimation] = [\n    scrollPosition(height, startImgPosition),\n    scrollPosition(height, finishImgPosition),\n  ];\n  const [startAuthorFade, finishAuthorFade] = [\n    scrollPosition(height, 40),\n    scrollPosition(height, 50),\n  ];\n  const [startAboutFade, fininshAboutFade] = [\n    scrollPosition(height, 60),\n    scrollPosition(height, 70),\n  ];\n\n  const imageOpacityAnimatedStyle = useAnimatedStyle(() => {\n    return {\n      opacity: interpolate(\n        scrollValue.value,\n        [0, startImgAnimation, finishImgAnimation],\n        [1, 0.8, 0],\n        Extrapolate.CLAMP\n      ),\n    };\n  }, [scrollValue, startImgAnimation, finishImgAnimation]);\n  const imageAnimatedStyle = useAnimatedStyle(() => {\n    const imageSize = interpolate(\n      scrollValue.value,\n      [0, startImgAnimation, finishImgAnimation],\n      [startSize, startSize, endSize],\n      Extrapolate.CLAMP\n    );\n\n    return {\n      borderRadius: profilePicBorderRadius,\n      height: imageSize,\n      width: imageSize,\n    };\n  }, [\n    scrollValue,\n    startImgAnimation,\n    finishImgAnimation,\n    startSize,\n    endSize,\n    profilePicBorderRadius,\n  ]);\n  const authorAnimatedStyle = useAnimatedStyle(() => {\n    return {\n      opacity: interpolate(\n        scrollValue.value,\n        [0, startAuthorFade, finishAuthorFade],\n        [1, 1, 0],\n        Extrapolate.CLAMP\n      ),\n    };\n  }, [scrollValue, startAuthorFade, finishAuthorFade]);\n  const aboutAnimatedStyle = useAnimatedStyle(() => {\n    return {\n      opacity: interpolate(\n        scrollValue.value,\n        [0, startAboutFade, fininshAboutFade],\n        [1, 1, 0],\n        Extrapolate.CLAMP\n      ),\n    };\n  }, [scrollValue, startAboutFade, fininshAboutFade]);\n  const foregroundTitleRTLStyle = useRTLStyles<ViewStyle>(\n    styles.foregroundTitlePaddingRight,\n    styles.foregroundTitlePaddingLeft,\n    styles.foregroundTitlePaddingEnd\n  );\n  const landscapeStyle = useRTLStyles<ViewStyle>(\n    commonStyles.row,\n    commonStyles.rowReverse,\n    commonStyles.row\n  );\n\n  return (\n    <View\n      pointerEvents=\"none\"\n      style={\n        isLandscape\n          ? [commonStyles.foregroundRow, landscapeStyle]\n          : [commonStyles.foreground, commonStyles.column]\n      }>\n      <Animated.View style={imageOpacityAnimatedStyle}>\n        <Animated.Image source={image as ImageSourcePropType} style={imageAnimatedStyle} />\n      </Animated.View>\n      <View style={[isLandscape && styles.landscapeTitleContainer]}>\n        <Animated.View style={[styles.userModalMessageContainer, authorAnimatedStyle]}>\n          <Animated.Text\n            adjustsFontSizeToFit\n            numberOfLines={2}\n            style={[\n              commonStyles.message,\n              styles.foregroundTitle,\n              foregroundTitleRTLStyle,\n              titleStyle,\n            ]}\n            testID={titleTestID}>\n            {title}\n          </Animated.Text>\n        </Animated.View>\n        <Animated.View style={[styles.infoContainer, aboutAnimatedStyle]}>\n          <Animated.Text\n            adjustsFontSizeToFit\n            style={[styles.infoText, subtitleStyle ?? titleStyle]}\n            testID={subtitleTestID}>\n            {subtitle}\n          </Animated.Text>\n        </Animated.View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  foregroundTitle: {\n    flexGrow: 1,\n    textAlign: 'left',\n  },\n  foregroundTitlePaddingEnd: {\n    paddingEnd: 12,\n  },\n  foregroundTitlePaddingLeft: {\n    paddingLeft: 12,\n  },\n  foregroundTitlePaddingRight: {\n    paddingRight: 12,\n  },\n  infoContainer: {\n    marginBottom: 16,\n  },\n  infoText: {\n    flexGrow: 1,\n    color: colors.white,\n    fontSize: 16,\n    lineHeight: 24,\n    textAlign: 'left',\n  },\n  landscapeTitleContainer: {\n    alignSelf: 'stretch',\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 24,\n  },\n  userModalMessageContainer: {\n    alignItems: 'flex-start',\n    marginTop: 12,\n    paddingTop: 24,\n    paddingBottom: 8,\n  },\n});\n"]}