Object.defineProperty(exports,"__esModule",{value:true});exports.Foreground=void 0;var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeReanimated=_interopRequireWildcard(require("react-native-reanimated"));var _constants=require("../../../constants");var _useResponsiveSize2=require("../../../hooks/useResponsiveSize");var _useRTLStyles=require("../../common/hooks/useRTLStyles");var _scrollPosition=require("../../common/utils/scrollPosition");var _this=this,_jsxFileName="/Users/vagrant/git/src/predefinedComponents/AvatarHeader/components/HeaderForeground.tsx";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var finishImgPosition=31;var startImgPosition=27;var Foreground=function Foreground(_ref){var height=_ref.height,image=_ref.image,scrollValue=_ref.scrollValue,subtitle=_ref.subtitle,subtitleStyle=_ref.subtitleStyle,_ref$subtitleTestID=_ref.subtitleTestID,subtitleTestID=_ref$subtitleTestID===void 0?'AvatarHeaderForegroundSubtitleTestID':_ref$subtitleTestID,title=_ref.title,titleStyle=_ref.titleStyle,_ref$titleTestID=_ref.titleTestID,titleTestID=_ref$titleTestID===void 0?'AvatarHeaderForegroundTitleTestID':_ref$titleTestID;var _useResponsiveSize=(0,_useResponsiveSize2.useResponsiveSize)(),responsiveWidth=_useResponsiveSize.responsiveWidth;var _useWindowDimensions=(0,_reactNative.useWindowDimensions)(),windowHeight=_useWindowDimensions.height,windowWidth=_useWindowDimensions.width;var isLandscape=windowWidth>windowHeight&&windowHeight<=_constants.constants.breakpoints.mediumPhoneShorterEdge;var profilePicBorderRadius=responsiveWidth(4.5);var startSize=responsiveWidth(18);var endSize=responsiveWidth(12);var _ref2=[(0,_scrollPosition.scrollPosition)(height,startImgPosition),(0,_scrollPosition.scrollPosition)(height,finishImgPosition)],startImgAnimation=_ref2[0],finishImgAnimation=_ref2[1];var _ref3=[(0,_scrollPosition.scrollPosition)(height,40),(0,_scrollPosition.scrollPosition)(height,50)],startAuthorFade=_ref3[0],finishAuthorFade=_ref3[1];var _ref4=[(0,_scrollPosition.scrollPosition)(height,60),(0,_scrollPosition.scrollPosition)(height,70)],startAboutFade=_ref4[0],fininshAboutFade=_ref4[1];var imageOpacityAnimatedStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){return{opacity:(0,_reactNativeReanimated.interpolate)(scrollValue.value,[0,startImgAnimation,finishImgAnimation],[1,0.8,0],_reactNativeReanimated.Extrapolate.CLAMP)};},[scrollValue,startImgAnimation,finishImgAnimation]);var imageAnimatedStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var imageSize=(0,_reactNativeReanimated.interpolate)(scrollValue.value,[0,startImgAnimation,finishImgAnimation],[startSize,startSize,endSize],_reactNativeReanimated.Extrapolate.CLAMP);return{borderRadius:profilePicBorderRadius,height:imageSize,width:imageSize};},[scrollValue,startImgAnimation,finishImgAnimation,startSize,endSize,profilePicBorderRadius]);var authorAnimatedStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){return{opacity:(0,_reactNativeReanimated.interpolate)(scrollValue.value,[0,startAuthorFade,finishAuthorFade],[1,1,0],_reactNativeReanimated.Extrapolate.CLAMP)};},[scrollValue,startAuthorFade,finishAuthorFade]);var aboutAnimatedStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){return{opacity:(0,_reactNativeReanimated.interpolate)(scrollValue.value,[0,startAboutFade,fininshAboutFade],[1,1,0],_reactNativeReanimated.Extrapolate.CLAMP)};},[scrollValue,startAboutFade,fininshAboutFade]);var foregroundTitleRTLStyle=(0,_useRTLStyles.useRTLStyles)(styles.foregroundTitlePaddingRight,styles.foregroundTitlePaddingLeft,styles.foregroundTitlePaddingEnd);var landscapeStyle=(0,_useRTLStyles.useRTLStyles)(_constants.commonStyles.row,_constants.commonStyles.rowReverse,_constants.commonStyles.row);return React.createElement(_reactNative.View,{pointerEvents:"none",style:isLandscape?[_constants.commonStyles.foregroundRow,landscapeStyle]:[_constants.commonStyles.foreground,_constants.commonStyles.column],__self:_this,__source:{fileName:_jsxFileName,lineNumber:123,columnNumber:5}},React.createElement(_reactNativeReanimated.default.View,{style:imageOpacityAnimatedStyle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:130,columnNumber:7}},React.createElement(_reactNativeReanimated.default.Image,{source:image,style:imageAnimatedStyle,__self:_this,__source:{fileName:_jsxFileName,lineNumber:131,columnNumber:9}})),React.createElement(_reactNative.View,{style:[isLandscape&&styles.landscapeTitleContainer],__self:_this,__source:{fileName:_jsxFileName,lineNumber:133,columnNumber:7}},React.createElement(_reactNativeReanimated.default.View,{style:[styles.userModalMessageContainer,authorAnimatedStyle],__self:_this,__source:{fileName:_jsxFileName,lineNumber:134,columnNumber:9}},React.createElement(_reactNativeReanimated.default.Text,{adjustsFontSizeToFit:true,numberOfLines:2,style:[_constants.commonStyles.message,styles.foregroundTitle,foregroundTitleRTLStyle,titleStyle],testID:titleTestID,__self:_this,__source:{fileName:_jsxFileName,lineNumber:135,columnNumber:11}},title)),React.createElement(_reactNativeReanimated.default.View,{style:[styles.infoContainer,aboutAnimatedStyle],__self:_this,__source:{fileName:_jsxFileName,lineNumber:148,columnNumber:9}},React.createElement(_reactNativeReanimated.default.Text,{adjustsFontSizeToFit:true,style:[styles.infoText,subtitleStyle!=null?subtitleStyle:titleStyle],testID:subtitleTestID,__self:_this,__source:{fileName:_jsxFileName,lineNumber:149,columnNumber:11}},subtitle))));};exports.Foreground=Foreground;var styles=_reactNative.StyleSheet.create({foregroundTitle:{flexGrow:1,textAlign:'left'},foregroundTitlePaddingEnd:{paddingEnd:12},foregroundTitlePaddingLeft:{paddingLeft:12},foregroundTitlePaddingRight:{paddingRight:12},infoContainer:{marginBottom:16},infoText:{flexGrow:1,color:_constants.colors.white,fontSize:16,lineHeight:24,textAlign:'left'},landscapeTitleContainer:{alignSelf:'stretch',flex:1,justifyContent:'center',paddingHorizontal:24},userModalMessageContainer:{alignItems:'flex-start',marginTop:12,paddingTop:24,paddingBottom:8}});
//# sourceMappingURL=HeaderForeground.js.map