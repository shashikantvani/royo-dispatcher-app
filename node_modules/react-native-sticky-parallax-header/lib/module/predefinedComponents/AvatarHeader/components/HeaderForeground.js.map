{"version":3,"sources":["HeaderForeground.tsx"],"names":["React","StyleSheet","View","useWindowDimensions","Animated","Extrapolate","interpolate","useAnimatedStyle","colors","commonStyles","constants","useResponsiveSize","useRTLStyles","scrollPosition","finishImgPosition","startImgPosition","Foreground","height","image","scrollValue","subtitle","subtitleStyle","subtitleTestID","title","titleStyle","titleTestID","responsiveWidth","windowHeight","width","windowWidth","isLandscape","breakpoints","mediumPhoneShorterEdge","profilePicBorderRadius","startSize","endSize","startImgAnimation","finishImgAnimation","startAuthorFade","finishAuthorFade","startAboutFade","fininshAboutFade","imageOpacityAnimatedStyle","opacity","value","CLAMP","imageAnimatedStyle","imageSize","borderRadius","authorAnimatedStyle","aboutAnimatedStyle","foregroundTitleRTLStyle","styles","foregroundTitlePaddingRight","foregroundTitlePaddingLeft","foregroundTitlePaddingEnd","landscapeStyle","row","rowReverse","foregroundRow","foreground","column","landscapeTitleContainer","userModalMessageContainer","message","foregroundTitle","infoContainer","infoText","create","flexGrow","textAlign","paddingEnd","paddingLeft","paddingRight","marginBottom","color","white","fontSize","lineHeight","alignSelf","flex","justifyContent","paddingHorizontal","alignItems","marginTop","paddingTop","paddingBottom"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport type { ImageSourcePropType, StyleProp, TextStyle, ViewStyle } from 'react-native';\nimport { StyleSheet, View, useWindowDimensions } from 'react-native';\nimport Animated, { Extrapolate, interpolate, useAnimatedStyle } from 'react-native-reanimated';\n\nimport { colors, commonStyles, constants } from '../../../constants';\nimport { useResponsiveSize } from '../../../hooks/useResponsiveSize';\nimport { useRTLStyles } from '../../common/hooks/useRTLStyles';\nimport { scrollPosition } from '../../common/utils/scrollPosition';\n\ninterface ForegroundProps {\n  height: number;\n  image?: ImageSourcePropType;\n  scrollValue: Animated.SharedValue<number>;\n  subtitle?: string;\n  subtitleStyle?: StyleProp<Animated.AnimateStyle<TextStyle>>;\n  subtitleTestID?: string;\n  title?: string;\n  titleStyle?: StyleProp<Animated.AnimateStyle<TextStyle>>;\n  titleTestID?: string;\n}\n\nconst finishImgPosition = 31;\nconst startImgPosition = 27;\n\nexport const Foreground: React.FC<ForegroundProps> = ({\n  height,\n  image,\n  scrollValue,\n  subtitle,\n  subtitleStyle,\n  subtitleTestID = 'AvatarHeaderForegroundSubtitleTestID',\n  title,\n  titleStyle,\n  titleTestID = 'AvatarHeaderForegroundTitleTestID',\n}) => {\n  const { responsiveWidth } = useResponsiveSize();\n  const { height: windowHeight, width: windowWidth } = useWindowDimensions();\n\n  const isLandscape =\n    windowWidth > windowHeight && windowHeight <= constants.breakpoints.mediumPhoneShorterEdge;\n\n  const profilePicBorderRadius = responsiveWidth(4.5);\n\n  const startSize = responsiveWidth(18);\n  const endSize = responsiveWidth(12);\n  const [startImgAnimation, finishImgAnimation] = [\n    scrollPosition(height, startImgPosition),\n    scrollPosition(height, finishImgPosition),\n  ];\n  const [startAuthorFade, finishAuthorFade] = [\n    scrollPosition(height, 40),\n    scrollPosition(height, 50),\n  ];\n  const [startAboutFade, fininshAboutFade] = [\n    scrollPosition(height, 60),\n    scrollPosition(height, 70),\n  ];\n\n  const imageOpacityAnimatedStyle = useAnimatedStyle(() => {\n    return {\n      opacity: interpolate(\n        scrollValue.value,\n        [0, startImgAnimation, finishImgAnimation],\n        [1, 0.8, 0],\n        Extrapolate.CLAMP\n      ),\n    };\n  }, [scrollValue, startImgAnimation, finishImgAnimation]);\n  const imageAnimatedStyle = useAnimatedStyle(() => {\n    const imageSize = interpolate(\n      scrollValue.value,\n      [0, startImgAnimation, finishImgAnimation],\n      [startSize, startSize, endSize],\n      Extrapolate.CLAMP\n    );\n\n    return {\n      borderRadius: profilePicBorderRadius,\n      height: imageSize,\n      width: imageSize,\n    };\n  }, [\n    scrollValue,\n    startImgAnimation,\n    finishImgAnimation,\n    startSize,\n    endSize,\n    profilePicBorderRadius,\n  ]);\n  const authorAnimatedStyle = useAnimatedStyle(() => {\n    return {\n      opacity: interpolate(\n        scrollValue.value,\n        [0, startAuthorFade, finishAuthorFade],\n        [1, 1, 0],\n        Extrapolate.CLAMP\n      ),\n    };\n  }, [scrollValue, startAuthorFade, finishAuthorFade]);\n  const aboutAnimatedStyle = useAnimatedStyle(() => {\n    return {\n      opacity: interpolate(\n        scrollValue.value,\n        [0, startAboutFade, fininshAboutFade],\n        [1, 1, 0],\n        Extrapolate.CLAMP\n      ),\n    };\n  }, [scrollValue, startAboutFade, fininshAboutFade]);\n  const foregroundTitleRTLStyle = useRTLStyles<ViewStyle>(\n    styles.foregroundTitlePaddingRight,\n    styles.foregroundTitlePaddingLeft,\n    styles.foregroundTitlePaddingEnd\n  );\n  const landscapeStyle = useRTLStyles<ViewStyle>(\n    commonStyles.row,\n    commonStyles.rowReverse,\n    commonStyles.row\n  );\n\n  return (\n    <View\n      pointerEvents=\"none\"\n      style={\n        isLandscape\n          ? [commonStyles.foregroundRow, landscapeStyle]\n          : [commonStyles.foreground, commonStyles.column]\n      }>\n      <Animated.View style={imageOpacityAnimatedStyle}>\n        <Animated.Image source={image as ImageSourcePropType} style={imageAnimatedStyle} />\n      </Animated.View>\n      <View style={[isLandscape && styles.landscapeTitleContainer]}>\n        <Animated.View style={[styles.userModalMessageContainer, authorAnimatedStyle]}>\n          <Animated.Text\n            adjustsFontSizeToFit\n            numberOfLines={2}\n            style={[\n              commonStyles.message,\n              styles.foregroundTitle,\n              foregroundTitleRTLStyle,\n              titleStyle,\n            ]}\n            testID={titleTestID}>\n            {title}\n          </Animated.Text>\n        </Animated.View>\n        <Animated.View style={[styles.infoContainer, aboutAnimatedStyle]}>\n          <Animated.Text\n            adjustsFontSizeToFit\n            style={[styles.infoText, subtitleStyle ?? titleStyle]}\n            testID={subtitleTestID}>\n            {subtitle}\n          </Animated.Text>\n        </Animated.View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  foregroundTitle: {\n    flexGrow: 1,\n    textAlign: 'left',\n  },\n  foregroundTitlePaddingEnd: {\n    paddingEnd: 12,\n  },\n  foregroundTitlePaddingLeft: {\n    paddingLeft: 12,\n  },\n  foregroundTitlePaddingRight: {\n    paddingRight: 12,\n  },\n  infoContainer: {\n    marginBottom: 16,\n  },\n  infoText: {\n    flexGrow: 1,\n    color: colors.white,\n    fontSize: 16,\n    lineHeight: 24,\n    textAlign: 'left',\n  },\n  landscapeTitleContainer: {\n    alignSelf: 'stretch',\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 24,\n  },\n  userModalMessageContainer: {\n    alignItems: 'flex-start',\n    marginTop: 12,\n    paddingTop: 24,\n    paddingBottom: 8,\n  },\n});\n"]}