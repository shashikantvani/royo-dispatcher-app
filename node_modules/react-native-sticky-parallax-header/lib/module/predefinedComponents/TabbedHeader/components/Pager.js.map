{"version":3,"sources":["Pager.tsx"],"names":["React","Dimensions","FlatList","I18nManager","Platform","StyleSheet","View","Animated","cancelAnimation","runOnJS","runOnUI","scrollTo","useAnimatedRef","useAnimatedScrollHandler","useSharedValue","withDelay","withTiming","commonStyles","debounce","NOOP","SCROLL_TO_PAGE_OFFSET_TIMEOUT","AnimatedFlatList","createAnimatedComponent","Pager","forwardRef","automaticallyAdjustContentInsets","children","contentContainerStyle","contentOffset","_contentOffset","directionalLockEnabled","disableScrollToPosition","initialPage","keyboardDismissMode","minScrollHeight","onChangeTab","onMomentumScrollBegin","onMomentumScrollEnd","onScroll","onScrollBeginDrag","onScrollEndDrag","page","pageContainerStyle","rememberTabScrollPosition","scrollEventThrottle","scrollHeight","scrollRef","scrollValue","scrollsToTop","showsHorizontalScrollIndicator","swipedPage","rest","ref","containerWidth","setContainerWidth","useState","get","width","containerWidthRef","useRef","currentPage","setCurrentPage","currentPageRef","horizontalFlatListRef","horizontalScrollValue","scrollToTabPositionTimeoutValue","data","useMemo","Children","toArray","tabsScrollPosition","Array","length","fill","goToPageAnimationFrame","isInvertedAndroid","OS","isRTL","undefined","useEffect","current","scrollToOffset","offset","animated","cancelAnimationFrame","goToPage","onContainerLayout","e","nativeEvent","layout","Math","round","requestAnimationFrame","scrollToPage","scrollToTabPosition","position","x","y","pageNumber","handleScrollToTabPosition","prevPage","newPage","value","scrollTargetPosition","duration","handlePossiblePageChange","offsetX","handlePossiblePageChangeOnWeb","scrollHandler","onBeginDrag","onEndDrag","onMomentumBegin","onMomentumEnd","useImperativeHandle","renderItem","useCallback","item","styles","inversionStyle","container","rowReverse","row","minHeight","_","i","create","flex","transform","scaleX"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport type { FlatListProps, LayoutChangeEvent, ListRenderItemInfo } from 'react-native';\nimport { Dimensions, FlatList, I18nManager, Platform, StyleSheet, View } from 'react-native';\nimport Animated, {\n  cancelAnimation,\n  runOnJS,\n  runOnUI,\n  scrollTo,\n  useAnimatedRef,\n  useAnimatedScrollHandler,\n  useSharedValue,\n  withDelay,\n  withTiming,\n} from 'react-native-reanimated';\n\nimport { commonStyles } from '../../../constants';\nimport { debounce } from '../../common/utils/debounce';\nimport type { InternalPagerProps } from '../InternalTabbedHeaderProps';\nimport type { PagerMethods, PagerProps } from '../TabbedHeaderProps';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst NOOP = () => {};\n\nconst SCROLL_TO_PAGE_OFFSET_TIMEOUT = 250;\n\ntype Page = React.ReactChild | React.ReactFragment | React.ReactPortal;\n\nconst AnimatedFlatList = Animated.createAnimatedComponent<FlatListProps<Page>>(FlatList);\n\nexport const Pager = React.forwardRef<PagerMethods, PagerProps & InternalPagerProps>(\n  (\n    {\n      automaticallyAdjustContentInsets = false,\n      children,\n      contentContainerStyle,\n      contentOffset: _contentOffset,\n      directionalLockEnabled = true,\n      disableScrollToPosition,\n      initialPage = 0,\n      keyboardDismissMode = 'on-drag',\n      minScrollHeight,\n      onChangeTab,\n      onMomentumScrollBegin,\n      onMomentumScrollEnd,\n      onScroll,\n      onScrollBeginDrag,\n      onScrollEndDrag,\n      page = -1,\n      pageContainerStyle,\n      rememberTabScrollPosition,\n      scrollEventThrottle = 16,\n      scrollHeight,\n      scrollRef,\n      scrollValue,\n      scrollsToTop = false,\n      showsHorizontalScrollIndicator = false,\n      swipedPage,\n      ...rest\n    },\n    ref\n  ) => {\n    const [containerWidth, setContainerWidth] = React.useState(\n      () => Dimensions.get('window').width\n    );\n    const containerWidthRef = React.useRef(containerWidth);\n    const [currentPage, setCurrentPage] = React.useState(initialPage);\n    const currentPageRef = React.useRef(currentPage);\n    const horizontalFlatListRef = useAnimatedRef<FlatList>();\n    const horizontalScrollValue = useSharedValue(initialPage * Dimensions.get('window').width);\n\n    const scrollToTabPositionTimeoutValue = useSharedValue(1);\n\n    const data = React.useMemo(() => {\n      return React.Children.toArray(children);\n    }, [children]);\n\n    const tabsScrollPosition = React.useRef<number[]>(Array(data.length).fill(-1));\n\n    const goToPageAnimationFrame = React.useRef<ReturnType<typeof requestAnimationFrame>>();\n\n    const isInvertedAndroid = Platform.OS === 'android' ? I18nManager.isRTL : undefined;\n\n    React.useEffect(() => {\n      /**\n       * Scroll to make first rendered tab visible (if not used, sometimes when Pager is first rendered, it has blank first tab)\n       */\n      horizontalFlatListRef.current?.scrollToOffset({ offset: 1, animated: true });\n      horizontalFlatListRef.current?.scrollToOffset({ offset: 0, animated: true });\n\n      return () => {\n        cancelAnimation(scrollToTabPositionTimeoutValue);\n        if (goToPageAnimationFrame.current) {\n          cancelAnimationFrame(goToPageAnimationFrame.current);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    React.useEffect(() => {\n      if (page !== currentPageRef.current && page >= 0) {\n        goToPage(page);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [page]);\n\n    function onContainerLayout(e: LayoutChangeEvent) {\n      const { width } = e.nativeEvent.layout;\n\n      if (!width || width <= 0 || Math.round(width) === Math.round(containerWidth)) {\n        return;\n      }\n\n      setContainerWidth(width);\n      containerWidthRef.current = width;\n      goToPageAnimationFrame.current = requestAnimationFrame(() => {\n        goToPage(currentPage);\n      });\n    }\n\n    function scrollToPage(offset: number) {\n      'worklet';\n      if (Platform.OS === 'web') {\n        horizontalFlatListRef.current?.scrollToOffset({ offset, animated: true });\n\n        return;\n      }\n\n      scrollTo(horizontalFlatListRef, offset, 0, true);\n    }\n\n    function scrollToTabPosition(position: number) {\n      'worklet';\n      if (Platform.OS === 'web') {\n        scrollRef.current?.scrollTo({ x: 0, y: position, animated: true });\n\n        return;\n      }\n\n      scrollTo(scrollRef, 0, position, true);\n    }\n\n    function goToPage(pageNumber: number) {\n      const offset = pageNumber * containerWidthRef.current;\n\n      handleScrollToTabPosition(currentPage, pageNumber);\n      runOnUI(scrollToPage)(offset);\n\n      setCurrentPage(page);\n      currentPageRef.current = page;\n      onChangeTab?.(currentPage, pageNumber);\n    }\n\n    function handleScrollToTabPosition(prevPage: number, newPage: number) {\n      if (!data.length || scrollValue.value === 0 || disableScrollToPosition) {\n        return;\n      }\n\n      tabsScrollPosition.current[prevPage] = scrollValue.value;\n      const scrollTargetPosition =\n        rememberTabScrollPosition && tabsScrollPosition.current[newPage] !== -1\n          ? tabsScrollPosition.current[newPage]\n          : scrollHeight;\n\n      scrollToTabPositionTimeoutValue.value = withDelay(\n        SCROLL_TO_PAGE_OFFSET_TIMEOUT,\n        withTiming(\n          scrollToTabPositionTimeoutValue.value * -1,\n          {\n            duration: 0,\n          },\n          () => {\n            'worklet';\n            scrollToTabPosition(scrollTargetPosition);\n          }\n        )\n      );\n    }\n\n    function handlePossiblePageChange(offsetX: number) {\n      const newPage = Math.round(offsetX / containerWidthRef.current);\n\n      if (currentPage !== newPage) {\n        swipedPage?.(newPage);\n        onChangeTab?.(currentPage, newPage);\n        setCurrentPage(newPage);\n        handleScrollToTabPosition(currentPage, newPage);\n      }\n    }\n\n    const handlePossiblePageChangeOnWeb = debounce((offsetX: number) => {\n      const newPage = Math.round(offsetX / containerWidthRef.current);\n\n      if (currentPageRef.current !== newPage) {\n        const prevPage = currentPageRef.current;\n\n        swipedPage?.(newPage);\n        onChangeTab?.(prevPage, newPage);\n        setCurrentPage(newPage);\n        handleScrollToTabPosition(prevPage, newPage);\n        currentPageRef.current = newPage;\n      }\n    }, 100);\n\n    const scrollHandler = useAnimatedScrollHandler({\n      onScroll: (e) => {\n        horizontalScrollValue.value = e.contentOffset.x;\n        onScroll?.(e);\n        if (Platform.OS === 'web') {\n          // On web there is no onMomentumScrollEnd\n          const offsetX = e.contentOffset.x;\n\n          runOnJS(handlePossiblePageChangeOnWeb)(offsetX);\n        }\n      },\n      onBeginDrag: (e) => {\n        onScrollBeginDrag?.(e);\n      },\n      onEndDrag: (e) => {\n        onScrollEndDrag?.(e);\n      },\n      onMomentumBegin: (e) => {\n        onMomentumScrollBegin?.(e);\n      },\n      onMomentumEnd: (e) => {\n        onMomentumScrollEnd?.(e);\n        const offsetX = e.contentOffset.x;\n\n        runOnJS(handlePossiblePageChange)(offsetX);\n      },\n    });\n\n    React.useImperativeHandle(ref, () => ({ goToPage }));\n\n    const renderItem = React.useCallback(\n      ({ item }: ListRenderItemInfo<Page>) => {\n        return (\n          <Animated.View\n            style={[\n              isInvertedAndroid && styles.inversionStyle,\n              // used to calculate current height of scroll\n              {\n                width: containerWidth,\n              },\n              pageContainerStyle,\n            ]}>\n            {item}\n          </Animated.View>\n        );\n      },\n      [containerWidth, isInvertedAndroid, pageContainerStyle]\n    );\n\n    return (\n      <View style={styles.container} onLayout={onContainerLayout}>\n        <AnimatedFlatList\n          ref={horizontalFlatListRef as unknown as React.RefObject<Animated.FlatList<Page>>}\n          {...rest}\n          automaticallyAdjustContentInsets={automaticallyAdjustContentInsets}\n          contentContainerStyle={[\n            Platform.OS === 'android'\n              ? I18nManager.isRTL\n                ? commonStyles.rowReverse\n                : commonStyles.row\n              : null,\n            { minHeight: minScrollHeight },\n            contentContainerStyle,\n          ]}\n          contentOffset={{ x: initialPage * containerWidth, y: 0 }}\n          data={data}\n          directionalLockEnabled={directionalLockEnabled}\n          horizontal\n          keyExtractor={(_, i) => `${i}`}\n          keyboardDismissMode={keyboardDismissMode}\n          onScroll={scrollHandler}\n          /**\n           * Workaround for reanimated v2.3+ bug\n           *\n           * https://github.com/software-mansion/react-native-reanimated/issues/2735#issuecomment-1001714779\n           */\n          onMomentumScrollBegin={NOOP}\n          onMomentumScrollEnd={NOOP}\n          onScrollBeginDrag={NOOP}\n          onScrollEndDrag={NOOP}\n          pagingEnabled\n          renderItem={renderItem}\n          scrollEventThrottle={scrollEventThrottle}\n          scrollsToTop={scrollsToTop}\n          showsHorizontalScrollIndicator={showsHorizontalScrollIndicator}\n          style={[isInvertedAndroid && styles.inversionStyle]}\n        />\n      </View>\n    );\n  }\n);\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  inversionStyle: {\n    transform: [{ scaleX: -1 }],\n  },\n});\n"]}